(this["webpackJsonpbeejee-react"]=this["webpackJsonpbeejee-react"]||[]).push([[0],{34:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(18),o=n.n(c),s=(n(34),n(4)),i=n(12),l=n.n(i),u=n(16),d=n(19),j=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}},b=function(e){return 0!==e.length&&(t=e.toLowerCase(),/\S+@\S+\.\S+/.test(t));var t},m=function(e){return e.length>=3},h={0:"\u0437\u0430\u0434\u0430\u0447\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430",1:"\u0437\u0430\u0434\u0430\u0447\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430, \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u0430\u0434\u043c\u0438\u043d\u043e\u043c",10:"\u0437\u0430\u0434\u0430\u0447\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430",11:"\u0437\u0430\u0434\u0430\u0447\u0430 \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u0430\u0434\u043c\u0438\u043d\u043e\u043c \u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430"},O={0:{name:"\u0412\u0440\u0435\u043c\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e",sort_field:"id",sort_direction:"asc"},1:{name:"\u0412\u0440\u0435\u043c\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",sort_field:"id",sort_direction:"desc"},3:{name:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e",sort_field:"username",sort_direction:"asc"},4:{name:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",sort_field:"username",sort_direction:"desc"},5:{name:"\u041f\u043e\u0447\u0442\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e",sort_field:"email",sort_direction:"asc"},6:{name:"\u041f\u043e\u0447\u0442\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",sort_field:"email",sort_direction:"desc"},7:{name:"\u0421\u0442\u0430\u0442\u0443\u0441 \u043f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e",sort_field:"status",sort_direction:"asc"},8:{name:"\u0421\u0442\u0430\u0442\u0443\u0441 \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",sort_field:"status",sort_direction:"desc"}},f=function(e){return Object.keys(e).map((function(t){return t+"="+e[t]})).join("&")},g=n(27),v=n(29),p=n(28),x=(n(41),n(0)),S=function(){return Object(x.jsx)("div",{className:"error-indicator",children:Object(x.jsx)("h1",{children:"Houston, \u0443 \u043d\u0430\u0441 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b"})})},k=function(e){Object(v.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return Object(g.a)(n,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?Object(x.jsx)(S,{}):this.props.children}}]),n}(r.Component),w=a.a.createContext(),y=w.Provider,E=w.Consumer,L=n(20),N=n(2),_="SHOW_SUCCESS",I="HIDE_SUCCESS",T="SHOW_ERROR",C="HIDE_ERROR",F="SHOW_LOADER",H="HIDE_LOADER",R="LOGIN",q="LOGOUT",M={globalError:null,globalSuccess:null,loading:!1},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(N.a)(Object(N.a)({},e),{},{globalError:t.data});case C:return Object(N.a)(Object(N.a)({},e),{},{globalError:null});case _:return Object(N.a)(Object(N.a)({},e),{},{globalSuccess:t.data});case I:return Object(N.a)(Object(N.a)({},e),{},{globalSuccess:null});case F:return Object(N.a)(Object(N.a)({},e),{},{loading:!0});case H:return Object(N.a)(Object(N.a)({},e),{},{loading:!1});default:return e}},P={loggedIn:!1},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(N.a)(Object(N.a)({},e),{},{loggedIn:!0});case q:return Object(N.a)(Object(N.a)({},e),{},{loggedIn:!1});default:return e}},A=Object(L.a)({common:D,auth:B}),J=Object(L.b)(A),U=(n(43),n(10)),V=n(5),W=function(){return{type:F}},G=function(){return{type:H}},z=function(e){return{type:T,data:e}},K=function(e){return{type:_,data:e}},Q=Object(s.b)((function(e){return{success:e.common.globalSuccess,error:e.common.globalError}}),{commonHideSuccess:function(){return{type:I}},commonHideError:function(){return{type:C}}})((function(e){var t=e.children,n=e.success,a=e.error,c=e.commonHideSuccess,o=e.commonHideError;Object(r.useEffect)((function(){null!=a&&setTimeout((function(){o()}),2e3)}),[a]),Object(r.useEffect)((function(){null!=n&&setTimeout((function(){c()}),2e3)}),[n]);return Object(x.jsxs)(x.Fragment,{children:[null!==a&&("string"==typeof a?Object(x.jsx)("div",{className:"big-alert alert alert-danger",children:a}):Object(x.jsx)("div",{className:"big-alert alert alert-danger",children:Object(x.jsx)("ul",{children:Object.keys(a).map((function(e){return Object(x.jsx)("li",{children:a[e]},a[e])}))})})),null!==n&&Object(x.jsx)("div",{className:"big-alert alert alert-success",children:n}),t]})})),X=function(){return{type:R}},Y=function(){return{type:q}},Z=Object(s.b)(null,{authLogin:X,authLogout:Y})((function(e){var t=e.authLogin,n=e.authLogout,a=e.children;return Object(r.useState)((function(){"string"===typeof localStorage.getItem("token")?t():n()}),[]),a})),$=Object(s.b)((function(e){return{loggedIn:e.auth.loggedIn}}),null)((function(e){var t=e.loggedIn;return Object(x.jsx)("nav",{className:"navbar navbar-expand-xl navbar-dark bg-dark","aria-label":"Sixth navbar example",children:Object(x.jsxs)("div",{className:"container-fluid",children:[Object(x.jsx)(U.b,{className:"navbar-brand",to:"/",children:"BeeJees"}),Object(x.jsx)("div",{className:" navbar-collapse",id:"navbarsExample06",children:Object(x.jsxs)("ul",{className:"navbar-nav ml-auto mb-2 mb-xl-0",children:[Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(U.b,{className:"nav-link","aria-current":"page",to:"/",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(U.b,{className:"nav-link","aria-current":"page",to:"/add",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"})}),!t&&Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(U.b,{className:"nav-link",to:"/login",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"})}),t&&Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(U.b,{className:"nav-link",to:"/logout",children:"\u0412\u044b\u0445\u043e\u0434"})})]})})]})})})),ee=(n(48),Object(s.b)((function(e){return{loading:e.common.loading}}),null)((function(e){var t=e.children;e.loading;return Object(x.jsx)(Q,{children:Object(x.jsxs)(Z,{children:[Object(x.jsx)($,{}),Object(x.jsx)("div",{className:"container",id:"container",children:Object(x.jsx)("div",{className:"bg-light p-5 rounded",children:Object(x.jsx)("div",{className:"col-sm-12",children:t})})})]})})}))),te=n(15),ne=n(6),re=n(13),ae=function(e){var t=e.name,n=e.label,a=e.placeholder,c=e.type,o=void 0===c?"text":c,s=e.value,i=e.errorText,l=e.validator,u=e.changeInputValue,d=e.options,j=void 0===d?{}:d;Object(r.useEffect)((function(){h(s)}),[s]);var h=function(e){var t=O(e);u(e,t)},O=function(e){switch(l){case"email":return b(e);case"required":return m(e);default:return!0}};return Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:t,children:n}),"select"==o?Object(x.jsx)("select",{className:"form-control",id:t,"aria-describedby":"".concat(t,"help"),placeholder:a,onChange:function(e){return h(e.target.value)},defaultValue:s,children:Object.keys(j).map((function(e){return Object(x.jsx)("option",{value:e,children:j[e]})}))}):Object(x.jsx)("input",{type:o,className:"form-control",id:t,"aria-describedby":"".concat(t,"help"),placeholder:a,onChange:function(e){return h(e.target.value)},value:s}),Object(x.jsx)("small",{id:"".concat(t,"help"),className:"form-text text-danger",children:i})]})},ce=(n(49),n.p+"static/media/spinner.68f9f103.svg"),oe=function(){return Object(x.jsx)("div",{className:"spinner",children:Object(x.jsx)("img",{src:ce,alt:"Spinner"})})},se=function(e){var t=e.inputs,n=e.action,a=e.initialState,c=e.header,o=e.buttonText,s=e.errors,i=e.loading,l=void 0!==i&&i,u=Object(r.useState)(a),d=Object(ne.a)(u,2),j=d[0],b=d[1];Object(r.useEffect)((function(){for(var e=Object(N.a)({},j),t=0,n=Object.keys(e.errorMessages);t<n.length;t++){var r=n[t];s[r]&&(e.errorMessages[r]=s[r])}b(e)}),[s]);var m=t.map((function(e){var t=e.name,n=e.type;return Object(x.jsx)(ae,Object(N.a)({value:j[t],errorText:j.errorMessages[t],changeInputValue:function(e,n){!function(e,t,n){b((function(r){var a,c=Object(N.a)(Object(N.a)({},r.validatedFields),{},Object(re.a)({},e,n)),o=Object.keys(c).filter((function(e){return c[e]})).length,s=Object(N.a)(Object(N.a)({},r),{},(a={},Object(re.a)(a,e,t||""),Object(re.a)(a,"validatedFields",c),Object(re.a)(a,"validated",o===Object.keys(c).length),a));return s.errorMessages[e]="",s}))}(t,e,n)}},e),"".concat(t,"-").concat(n))}));return Object(x.jsxs)("div",{children:[c&&Object(x.jsx)("h3",{children:c}),m,l?Object(x.jsx)(oe,{}):Object(x.jsx)("button",{className:"btn btn-primary float-right",disabled:!j.validated,onClick:function(){return n(j)},children:o})]})},ie=function(){return function(e){return function(t){return Object(x.jsx)(E,{children:function(n){return Object(x.jsx)(e,Object(N.a)(Object(N.a)({},t),{},{service:n}))}})}}},le=Object(s.b)((function(e){return{loading:e.common.loading}}),null)((function(e){var t=e.children;return e.loading?Object(x.jsx)(oe,{}):Object(x.jsx)(x.Fragment,{children:t})})),ue=[{name:"email",validator:"email",label:"\u041f\u043e\u0447\u0442\u0430",type:"email"},{name:"username",validator:"required",label:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"},{name:"text",validator:"required",label:"\u0422\u0435\u043a\u0441\u0442 \u0437\u0430\u0434\u0430\u0447\u0438"}],de={email:"",username:"",text:"",validatedFields:{email:!1,username:!1,text:!1},errorMessages:{email:"",username:"",text:""},validated:!1},je=j(Object(s.b)(null,{commonShowLoader:W,commonHideLoader:G,commonShowSuccess:K,commonShowError:z}),ie())((function(e){var t=e.service,n=e.commonShowLoader,a=e.commonHideLoader,c=e.commonShowSuccess,o=e.commonShowError,s=Object(V.g)(),i=Object(r.useState)({}),l=Object(ne.a)(i,2),u=l[0],d=l[1];return Object(x.jsx)(le,{children:Object(x.jsx)(se,{action:function(e){var r=e.username,i=e.email,l=e.text,u=new FormData;u.append("username",r),u.append("email",i),u.append("text",l),n(),t.addTask(u).then((function(e){var t=e.status,n=e.message;if("ok"==t)c("\u0417\u0430\u0434\u0430\u0447\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430"),setTimeout((function(){return s.push("/")}),2e3);else{a();var r,i=Object(N.a)({},n),l={},u=Object(te.a)(ue);try{for(u.s();!(r=u.n()).done;){var j=r.value.name;i[j]&&(l[j]=i[j],delete i[j])}}catch(b){u.e(b)}finally{u.f()}d(l),Object.keys(i).length>0&&o(i)}}))},inputs:ue,initialState:de,errors:u,buttonText:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",header:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438"})})})),be=[{name:"text",validator:"required",label:"\u0422\u0435\u043a\u0441\u0442 \u0437\u0430\u0434\u0430\u0447\u0438"},{name:"status",validator:"required",label:"\u0422\u0435\u043a\u0441\u0442 \u0437\u0430\u0434\u0430\u0447\u0438"}],me={username:"",password:"",validatedFields:{username:!1,password:!1},errorMessages:{username:"",password:""},validated:!1},he=j(Object(s.b)((function(e){return{loggedIn:e.auth.loggedIn}}),{commonShowLoader:W,commonHideLoader:G,commonShowSuccess:K,commonShowError:z,authLogout:Y}),ie())((function(e){e.id,e.service;var t=e.loggedIn,n=(e.commonShowLoader,e.commonHideLoader,e.commonShowSuccess,e.commonShowError,e.authLogout,Object(r.useState)({})),a=Object(ne.a)(n,2),c=a[0];a[1];if(!t)return Object(x.jsx)(V.a,{to:"/"});return Object(x.jsx)(le,{children:Object(x.jsx)(se,{action:function(e){e.username,e.password},inputs:be,initialState:me,errors:c,buttonText:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f",header:"\u0412\u0445\u043e\u0434 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443"})})})),Oe=[{name:"username",validator:"required",label:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"},{name:"password",validator:"required",label:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password"}],fe={username:"",password:"",validatedFields:{username:!1,password:!1},errorMessages:{username:"",password:""},validated:!1},ge=j(Object(s.b)((function(e){return{loggedIn:e.auth.loggedIn}}),{commonShowLoader:W,commonHideLoader:G,commonShowSuccess:K,commonShowError:z,authLogin:X}),ie())((function(e){var t=e.service,n=e.loggedIn,a=e.commonShowLoader,c=e.commonHideLoader,o=e.commonShowSuccess,s=e.commonShowError,i=e.authLogin,l=Object(r.useState)({}),u=Object(ne.a)(l,2),d=u[0],j=u[1];if(n)return Object(x.jsx)(V.a,{to:"/"});return Object(x.jsx)(le,{children:Object(x.jsx)(se,{action:function(e){var n=e.username,r=e.password,l=new FormData;l.append("username",n),l.append("password",r),a(),t.login(l).then((function(e){var n=e.status,r=e.message;if("ok"==n)o("\u0412\u044b \u0432\u043e\u0448\u043b\u0438 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443"),t.setToken(r.token),setTimeout((function(){return i()}),1e3);else{c();var a,l=Object(N.a)({},r),u={},d=Object(te.a)(Oe);try{for(d.s();!(a=d.n()).done;){var b=a.value.name;l[b]&&(u[b]=l[b],delete l[b])}}catch(m){d.e(m)}finally{d.f()}j(u),Object.keys(l).length>0&&s(l)}}))},inputs:Oe,initialState:fe,errors:d,buttonText:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f",header:"\u0412\u0445\u043e\u0434 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443"})})})),ve=j(ie(),Object(s.b)((function(e){return{loggedIn:e.auth.loggedIn}}),{authLogout:Y}))((function(e){var t=e.service,n=e.loggedIn,a=e.authLogout;return Object(r.useState)((function(){t.clearToken(),setTimeout((function(){return a()}),1e3)}),[]),n?Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{children:"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0432\u044b\u0448\u043b\u0438 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b"}),Object(x.jsx)("p",{children:"\u0412\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u043f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"})]}):Object(x.jsx)(V.a,{to:"/"})})),pe=(n(50),h),xe=[{name:"status",label:"\u0421\u0442\u0430\u0442\u0443\u0441",type:"select",options:pe},{name:"text",validator:"required",label:"\u0422\u0435\u043a\u0441\u0442 \u0437\u0430\u0434\u0430\u0447\u0438"}],Se={status:"",text:"",validatedFields:{status:!0,text:!0},errorMessages:{status:"",text:""},validated:!1},ke=j(Object(s.b)(null,{commonShowSuccess:K,commonShowError:z,authLogout:Y}),ie())((function(e){var t=e.id,n=e.username,a=e.email,c=e.text,o=e.status,s=e.number,i=e.loggedIn,l=e.updateFunction,u=e.commonShowSuccess,d=e.commonShowError,j=e.service,b=e.authLogout,m=Object(r.useState)(!1),h=Object(ne.a)(m,2),O=h[0],f=h[1],g=Object(r.useState)({}),v=Object(ne.a)(g,2),p=v[0],S=v[1],k=Object(r.useState)(!1),w=Object(ne.a)(k,2),y=w[0],E=w[1],L=function(e){var n=e.text,r=e.status;f(!0);var a=new FormData;a.append("text",n),a.append("status",r),a.append("token",j.getToken()),j.editTask(t,a).then((function(e){var t=e.status,n=e.message;if("ok"==t)u("\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430"),u("\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430"),l();else{f(!1);var r,a=Object(N.a)({},n),c={},o=Object(te.a)(xe);try{for(o.s();!(r=o.n()).done;){var s=r.value.name;a[s]&&(c[s]=a[s],delete a[s])}}catch(i){o.e(i)}finally{o.f()}n.token&&"\u0422\u043e\u043a\u0435\u043d \u0438\u0441\u0442\u0451\u043a"==n.token&&(j.clearToken(),b()),S(c),Object.keys(a).length>0&&d(a)}}))};return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{scope:"col",children:s}),Object(x.jsx)("td",{scope:"col",children:n}),Object(x.jsx)("td",{scope:"col",children:a}),Object(x.jsx)("td",{scope:"col",children:c}),Object(x.jsx)("td",{scope:"col",children:pe[o]}),i&&Object(x.jsxs)("td",{scope:"col",children:[Object(x.jsx)("button",{onClick:function(){return E(!y)},className:"btn btn-info",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),y&&(Se.status=o,Se.text=c,Object(x.jsx)("div",{className:"task-edit-row",children:Object(x.jsx)(le,{children:Object(x.jsx)(se,{loading:O,action:L,inputs:xe,initialState:Se,errors:p,buttonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",header:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",horizontal:!0})})}))]})]},"task-".concat(t))})})),we=(n(51),function(e){var t=e.total,n=e.perPage,a=void 0===n?3:n,c=e.page,o=void 0===c?1:c,s=e.changePage,i=Object(r.useState)([]),l=Object(ne.a)(i,2),u=l[0],d=l[1];return Object(r.useEffect)((function(){for(var e=Math.max(o-2,1),n=Math.min(o+2,Math.ceil(t/a)),r=[],c=e;c<=n;)r.push(c++);d(r)}),[]),t<=a?null:Object(x.jsx)("div",{className:"float-right",children:Object(x.jsx)("nav",{"aria-label":"Page navigation example",children:Object(x.jsx)("ul",{className:"pagination",children:u.map((function(e){var t="page-link ".concat(e===o&&"active");return Object(x.jsx)("li",{className:"page-item",children:Object(x.jsx)("a",{className:t,onClick:function(){e!=o&&s(e)},children:e})},"paginator-page-key-".concat(e))}))})})})}),ye=(n(52),O),Ee=function(e){var t=e.onChange,n=e.value,r=void 0===n?0:n;return Object(x.jsx)("div",{className:"col-md-6 col-sm-12 float-right sorter",children:Object(x.jsx)("select",{className:"form-control",value:r,onChange:function(e){return t(e.target.value)},children:Object.keys(ye).map((function(e){var t=ye[e].name;return Object(x.jsx)("option",{value:e,children:t})}))})})},Le=O,Ne=j(Object(s.b)((function(e){return{loggedIn:e.auth.loggedIn}}),{commonHideLoader:G,commonShowLoader:W,commonShowError:z}),ie())((function(e){var t=e.service,n=e.loggedIn,a=e.commonHideLoader,c=e.commonShowLoader,o=e.commonShowError,s=Object(r.useState)([]),i=Object(ne.a)(s,2),l=i[0],u=i[1],d=Object(r.useState)(0),j=Object(ne.a)(d,2),b=j[0],m=j[1],h=Object(r.useState)(1),O=Object(ne.a)(h,2),f=O[0],g=O[1],v=Object(r.useState)(0),p=Object(ne.a)(v,2),S=p[0],k=p[1];Object(r.useEffect)((function(){w()}),[]);var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;g(e),k(n);var r=Le[n],s=r.sort_field,i=r.sort_direction,l={page:e,sort_field:s,sort_direction:i};c(),t.getTasksList(l).then((function(e){var t=e.status,n=e.message;a(),"ok"===t?(u(n.tasks),m(parseInt(n.total_task_count))):(u([]),m(0),o(n))}))};return Object(x.jsx)(le,{children:b>0?Object(x.jsxs)("div",{className:"table-responsive",children:[Object(x.jsx)(Ee,{value:S,onChange:function(e){e!=S&&w(f,e)}}),Object(x.jsxs)("table",{className:"table",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{scope:"col",children:"#"}),Object(x.jsx)("th",{scope:"col",children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"}),Object(x.jsx)("th",{scope:"col",children:"\u041f\u043e\u0447\u0442\u0430"}),Object(x.jsx)("th",{scope:"col",children:"\u0422\u0435\u043a\u0441\u0442"}),Object(x.jsx)("th",{scope:"col",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),n&&Object(x.jsx)("th",{scope:"col",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"})]})}),Object(x.jsx)("tbody",{children:l.map((function(e,t){return Object(x.jsx)(ke,Object(N.a)({updateFunction:function(){return w()},number:f-1+1+t,loggedIn:n},e),"task-".concat(e.id,"-").concat(t))}))})]}),Object(x.jsx)(we,{page:f,perPage:3,total:b,changePage:function(e){w(e)}})]}):Object(x.jsx)("h2",{children:"\u041f\u043e\u043a\u0430 \u043d\u0435\u0442 \u043d\u0438 \u043e\u0434\u043d\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0438"})})})),_e=function(){return Object(x.jsx)(U.a,{children:Object(x.jsx)(ee,{children:Object(x.jsxs)(V.d,{children:[Object(x.jsx)(V.b,{path:"/",component:Ne,exact:!0}),Object(x.jsx)(V.b,{path:"/login",component:ge}),Object(x.jsx)(V.b,{path:"/logout",component:ve}),Object(x.jsx)(V.b,{path:"/add",component:je}),Object(x.jsx)(V.b,{path:"/edit/:id",render:function(e){var t=e.match.params.id;return Object(x.jsx)(he,{id:t})}}),Object(x.jsx)(V.b,{render:function(){return Object(x.jsx)("h2",{children:"Page not found"})}})]})})})},Ie=new function e(){var t=this;Object(d.a)(this,e),this._apiBase="https://uxcandy.com/~shapoval/test-task-backend/v2/",this._token=null,this.clearToken=function(){t._token=null,localStorage.removeItem("token")},this.setToken=function(e){t._token=e,localStorage.setItem("token",e)},this.getToken=function(){return t._token},this.makeRequest=function(){var e=Object(u.a)(l.a.mark((function e(n){var r,a,c,o,s,i=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]&&i[1],a=i.length>2&&void 0!==i[2]?i[2]:null,c=!(i.length>3&&void 0!==i[3])||i[3],o={},r&&(o.method="POST",o.body=a),e.next=7,fetch("".concat(t._apiBase).concat(n).concat(c?"?developer=ykemer":""),o);case 7:if((s=e.sent).ok){e.next=10;break}throw new Error("Could not fetch ".concat(n)+", received ".concat(s.status));case 10:return e.next=12,s.json();case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getTasksList=Object(u.a)(l.a.mark((function e(){var n,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=r.length>0&&void 0!==r[0]?r[0]:{}).developer="ykemer",e.next=4,t.makeRequest("?".concat(f(n)),!1,null,!1);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),this.editTask=function(){var e=Object(u.a)(l.a.mark((function e(n,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.makeRequest("edit/".concat(n),!0,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.addTask=function(){var e=Object(u.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.makeRequest("create",!0,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.login=function(){var e=Object(u.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.makeRequest("login",!0,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._token=localStorage.getItem("token")},Te=function(){return Object(x.jsx)(k,{children:Object(x.jsx)(s.a,{store:J,children:Object(x.jsx)(y,{value:Ie,children:Object(x.jsx)(_e,{})})})})},Ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,54)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))};o.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(Te,{})}),document.getElementById("root")),Ce()}},[[53,1,2]]]);
//# sourceMappingURL=main.7308334b.chunk.js.map